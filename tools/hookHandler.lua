local hookHandler = {}

hookHandler.Hook = function (oldF, newF)
  return hookfunction(oldF, newF)
end

hookHandler.HookGame = function (method, ins, name)
  local handler = {}
  handler.Event = Instance.new("BindableEvent")
  local oldF = nil
  oldF = hookmetamethod(game, "__namecall", function (self, ...)
    if getnamecallmethod() == method then
      if self.Name == name and self:IsA(ins) then
        task.spawn(function ()
          handler.Event:Fire({...})
        end)
      end
    end
    return oldF(self, ...)
  end)
  
  handler.Destroy = function ()
    handler.Event:Destroy()
    handler = nil
    hookmetamethod(game, "__namecall", oldF)
  end
  return handler
end

return hookHandler
