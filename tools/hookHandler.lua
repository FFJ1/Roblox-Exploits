local hookHandler = {}

hookHandler.Hook = function (oldF, newF)
  return hookfunction(oldF, newF)
end

hookHandler.HookGame = function (method, name)
  local handler = {}
  handler.Event = Instance.new("BindableEvent")
  local oldF = nil
  oldF = hookmetamethod(game, "__namecall", function (self, ...)
    if not checkcaller() and getnamecallmethod() == method then
      if self.Name == name then
        handler.Event:Fire({...})
      end
    end
    return oldF(self, ...)
  end)
  
  
  handler.Destroy = function ()
    handler.Event:Destroy()
    handler = nil
    hookmetamethod(event, oldF)
  end
  
  return handler
end

return hookHandler
